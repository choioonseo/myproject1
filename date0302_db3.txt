CREATE TABLE "HR"."MEMBER" 
   (	
   	"ID" VARCHAR2(10), 
	"PW" VARCHAR2(10), 
	"NAME" VARCHAR2(10), 
	"TEL" VARCHAR2(10)
   ) 
   
   
CREATE TABLE "HR"."BBS"
(	
	"no" VARCHAR2(100),
	"TITLE" VARCHAR2(100),
	"CONTENT" VARCHAR2(100),
	"WRITER" VARCHAR2(100)
)



CREATE TABLE PRODUCT(
ID VARCHAR2(200),
NAME VARCHAR2(200),
CONTENT VARCHAR2(200),
PRICE VARCHAR2(200),
COMPANY VARCHAR2(200),
IMG VARCHAR2(200)
)


--저장할 대상: 엔티티(회원정보, 게시판, 상품정보) 엔티티의 관계: 회원이 상품을 주문하다(주문정보)
--			엔티티 + 관계 ->테이블로 만들 수 있음

CREATE TABLE ORDERLIST(
"NO" VARCHAR2(100),
MEMBER_ID VARCHAR2(100),
PRODUCT_ID VARCHAR2(100),
TOTAL_COUNT VARCHAR2(100)
)


CREATE TABLE DEPART2(
ID VARCHAR2(100),
NAME VARCHAR2(100),
INSTRUCTOR VARCHAR2(100)
)


CREATE TABLE STUDENT2(
ID VARCHAR2(100),
NAME VARCHAR2(100),
TEL VARCHAR2(100),
DEPART_ID VARCHAR2(100)
)



CREATE TABLE SUBJECT(
ID VARCHAR2(100),
TITLE VARCHAR2(100),
DEPART_ID VARCHAR2(100)
)


CREATE TABLE "HR"."BBS2" 
(	"no" VARCHAR2(100), 
	"TITLE" VARCHAR2(100), 
	"CONTENT" VARCHAR2(100), 
	"WRITER" VARCHAR2(100), 
	 CONSTRAINT "BBS_PK22" PRIMARY KEY ("no"),
	 CONSTRAINT "FK_MEMBER22" FOREIGN KEY ("WRITER")
	  REFERENCES "HR"."MEMBER" ("ID")
) 



CREATE TABLE "HR"."BBS3" 
(	"no" VARCHAR2(100), 
	"TITLE" VARCHAR2(100), 
	"CONTENT" VARCHAR2(100), 
	"WRITER" VARCHAR2(100)
	)

	--PK제약조건 추가
	
	ALTER TABLE HR.BBS3
ADD CONSTRAINT BBS3_PK PRIMARY KEY ("no")

--FK제약조건 추가

ALTER TABLE HR.BBS3 
ADD CONSTRAINT FK_MEMBER33 
FOREIGN KEY (WRITER) REFERENCES HR."MEMBER"(ID);

CREATE TABLE depart2 (
	id varchar2(100),
	name varchar2(100),
	instructor varchar2(100),
	constraints pk_dp2 PRIMARY KEY (id)
)


CREATE TABLE student2 (
	id varchar2(100),
	name varchar2(100),
	tel varchar2(100),
	depart_id varchar2(100)
)

ALTER TABLE STUDENT2 
ADD CONSTRAINTS pk_st2 
PRIMARY KEY (id)

ALTER TABLE STUDENT2 
ADD CONSTRAINTS fk_st2
FOREIGN KEY (depart_id)
REFERENCES depart2 (id)


--테이블 복사

CREATE TABLE MEMBER22
AS SELECT * FROM MEMBER

INSERT INTO MEMBER22
VALUES ('BANANA', 'BANANA', 'BANANA','BANANA',SYSDATE)

SELECT * FROM MEMBER22


INSERT INTO MEMBER22
VALUES ('BANANA4', 'BANANA4', 'BANANA4','BANANA4',SYSDATE, 'AAA')

INSERT INTO BBS3
VALUES(BBS_ID_SQL.nextval, 'happy', 'happy day', 'ice')

INSERT INTO BBS 
VALUES(BBS_ID_SQL, 'happy2', 'happy day2', 'ice2')


	SELECT * FROM BBS3
	
	CREAT SEQUENCE PD_ID_SEQ INCREMENT BY 1
	START WITH 1
	
	CREAT TABLE PRODUCT2 (
		ID NUMBER(38, 0),
		NAME VARCHAR2(100)
	)
	
	
--1. orderlist3을 만드세요 --id(number), title, price(number)
--2. sequence를 만드세요. -- 이름: or_seq, start값: 1, increment값: 1
--3. row값 3개 이상 넣어보고 확인해보세요. 

CREATE TABLE ORDERLIST3 (
	id number(38, 0),
	title varchar2(100),
	price number(38, 0)
)

CREATE SEQUENCE OR_SEQ
INCREMENT BY 1
START WITH 1

INSERT INTO orderlist3 
VALUES (or_seq.nextval, 'shoes', 1000)

SELECT * FROM ORDERLIST3

SELECT * FROM ORDERLIST3
ORDER BY id -- 오름차순 

SELECT * FROM ORDERLIST3
ORDER BY id DESC -- 내림차순

SELECT * FROM ORDERLIST3
WHERE id >= 3
ORDER BY id DESC 

--------------------DEPT, EMP, SALGRADE테이블 생성
CREATE TABLE DEPT
(
DEPTNO NUMBER(2),
DNAME VARCHAR2(14 BYTE),
LOC VARCHAR2(13 BYTE)
)

CREATE TABLE EMP
(
EMPNO NUMBER(4),
ENAME VARCHAR2(10 BYTE),
JOB VARCHAR2(9 BYTE),


MGR NUMBER(4),
HIREDATE DATE,
SAL NUMBER(7,2),
COMM NUMBER(7,2),
DEPTNO NUMBER(2)
)

CREATE TABLE SALGRADE
(
GRADE NUMBER,
LOSAL NUMBER,
HISAL NUMBER
)


ALTER TABLE DEPT ADD (
CONSTRAINT PK_DEPT
PRIMARY KEY
(DEPTNO));


ALTER TABLE EMP ADD (
CONSTRAINT PK_EMP
PRIMARY KEY
(EMPNO));

ALTER TABLE EMP ADD (
CONSTRAINT FK_DEPTNO
FOREIGN KEY (DEPTNO)
REFERENCES DEPT (DEPTNO));


SELECT * FROM EMP --SELECTION

SELECT DEPTNO FROM EMP --PROJECTION

SELECT DISTINCT DEPTNO FROM EMP --DISTINCT(중복제거)

SELECT ENAME, SAL * 12 AS YEARSAL FROM EMP --값 연산


SELECT * FROM EMP ORDER BY SAL DESC

SELECT * FROM EMP WHERE DEPTNO=30 ORDER BY EMPNO DESC --30일떄

SELECT * FROM EMP WHERE NOT DEPTNO=30 ORDER BY EMPNO DESC --30이 아닐때


SELECT * FROM EMP WHERE DEPTNO=30 AND JOB='SALESMAN'

SELECT * FROM EMP WHERE DEPTNO=30 OR JOB='SALESMAN'

SELECT * FROM EMP WHERE SAL>=3000

SELECT * FROM EMP WHERE SAL!=3000

SELECT * FROM EMP WHERE JOB IN ('SALESMAN', 'MANAGER') ORDER BY JOB

SELECT * FROM EMP WHERE JOB NOT IN ('SALESMAN', 'MANAGER') ORDER BY JOB 

SELECT * FROM EMP WHERE SAL NOT BETWEEN 2000 AND 3000 ORDER BY EMPNO

SELECT * FROM EMP WHERE ENAME LIKE '_L%'

SELECT * FROM EMP WHERE ENAME NOT LIKE '_L%'

SELECT * FROM EMP WHERE COMM IS NULL

SELECT * FROM EMP WHERE COMM IS NOT NULL 

CREATE TABLE DEPT_TEMP2
AS SELECT * FROM DEPT

SELECT * FROM DEPT_TEMP2

UPDATE DEPT_TEMP2 SET LOC='SEOUL'

UPDATE DEPT_TEMP2 SET DNAME='DATABASE', LOC = 'BUSAN'

DELETE FROM DEPT_TEMP2 WHERE DNAME='SALES'

SELECT * FROM DEPT_TEMP2 DT

-----------------마무리문제 PRODUCT3
CREATE TABLE PRODUCT3
(	"ID" VARCHAR2(200),
"NAME" VARCHAR2(200),
"CONTENT" VARCHAR2(200),
"PRICE" NUMBER(38,0),
"COMPANY" VARCHAR2(200),
"IMG" VARCHAR2(200)
)
